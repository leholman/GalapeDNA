library("sp")
library("metabarTOAD")
library("vegan")
library("Biostrings")
library("RColorBrewer")
library("seqinr")
library("sp")
#### Settin
#### Settings and Setup####
##Get metadata
metadat <- read.csv("metadata.csv")
metadat.site <- read.csv("metadata.site.csv")
#Set some variables
minreads <- 3
items <- NULL
#Set the seed
set.seed("123456")
palette(brewer.pal(12, "Set3"))
View(metadat.site)
#Change the location to sensible numbers
coords <- "43°46′50″N 79°24′53″W" "43°46′06″N 79°24′46″W"
#Change the location to sensible numbers
coords <- c("43°46′50″N 79°24′53″W","43°46′06″N 79°24′46″W")
chd = substr(coords, 3, 3)[1]
chm = substr(coords, 6, 6)[1]
chs = substr(coords, 9, 9)[1]
cd = char2dms(coords,chd=chd,chm=chm,chs=chs)
View(cd)
View(cd)
substr(coords, 3, 3)
as.numeric(cd)
View(cd)
View(cd)
cd = char2dms(coords[1],chd=chd,chm=chm,chs=chs)
as.numeric(cd)
cd
coords[1]
View(cd)
?char2dms
coords[1]
coords <- c("43°46′50″N","79°24′53″W")
chd = substr(coords, 3, 3)[1]
chm = substr(coords, 6, 6)[1]
chs = substr(coords, 9, 9)[1]
cd = char2dms(coords[1],chd=chd,chm=chm,chs=chs)
as.numeric(cd)
cd = char2dms(coords[2],chd=chd,chm=chm,chs=chs)
as.numeric(cd)
View(metadat.site)
chd
chm
chs
convertLatLon<- function(Lat,Lon){
lat = char2dms(Lat,chd="°",chm="′",chs="″")
lon = char2dms(Lon,chd="°",chm="′",chs="″")
return(lat,lon)}
coords <- c("43°46′50″N","79°24′53″W")
convertLatLon(coords[1],coords[2])
coords[1]
convertLatLon(Lat=coords[1],Lon=coords[2])
convertLatLon<- function(Lat,Lon){
lat = char2dms(Lat,chd="°",chm="′",chs="″")
lon = char2dms(Lon,chd="°",chm="′",chs="″")
return(c(lat,lon))}
convertLatLon(Lat=coords[1],Lon=coords[2])
convertLatLon<- function(Lat,Lon){
lat = char2dms(Lat,chd="°",chm="′",chs="″")
lon = char2dms(Lon,chd="°",chm="′",chs="″")
return(unlist(c(lat,lon)))}
convertLatLon(Lat=coords[1],Lon=coords[2])
library("metabarTOAD")
library("vegan")
library("Biostrings")
library("RColorBrewer")
library("seqinr")
library("sp")
#### Settings and Setup####
##Get metadata
metadat <- read.csv("metadata.csv")
metadat.site <- read.csv("metadata.site.csv")
#Set some variables
minreads <- 3
items <- NULL
#Set the seed
set.seed("123456")
palette(brewer.pal(12, "Set3"))
metadat.site$lat2 <- as.numeric(paste0("-",substr(metadat.site$latitude,3,4),".",substr(as.character(as.numeric(paste0(substr(metadat.site$latitude,6,7),".",substr(metadat.site$latitude,9,11)))/60),3,20)))
metadat.site$lon2 <- as.numeric(paste0("-",substr(metadat.site$longitude,4,5),".",substr(as.character(as.numeric(paste0(substr(metadat.site$longitude,8,9),".",substr(metadat.site$longitude,11,13)))/60),3,20)))
write.csv(metadat.site,"metadata.site.out.csv")
